{% extends 'base.html' %}
{% block metadata %}
<link rel="stylesheet"
      href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" />
<link href="https://fonts.googleapis.com/css?family=Montserrat"
      rel="stylesheet" />

<link rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
<!--<link rel="stylesheet" href="{{ url_for('static', filename='css/apexstyle.css') }}">-->
{% endblock %}
{% block fixnavicon1 %}style="margin-right:0px"{% endblock %}
{% block fixnavicon2 %}style="margin-right:0px"{% endblock %}
{% block fixnavicon3 %}style="margin-right:0px"{% endblock %}
{% block content %}


<main id="main" class="main">

    <div class="pagetitle">
        <!--<h1>ApexCharts</h1>-->
        <nav>
            <ol class="breadcrumb" style="background-color: transparent">
                <li class="breadcrumb-item"><a href="index.html">Home</a></li>
                <li class="breadcrumb-item">Finance</li>
                <li class="breadcrumb-item active">Accounting</li>
            </ol>
        </nav>
    </div><!-- End Page Title -->



    <section class="section dashboard">
        <div class="row">

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">Revenue Projection VS Actual Revenue <span> / monthly </span> </h5>

                        <!-- Line/Bar Chart -->
                        <div id="aliciachart"></div>
                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
                                new ApexCharts(document.querySelector("#aliciachart"), {
                                    series: [{
                                        name: 'Projection',
                                        type: 'column',
                                        data: [{{ "%.0f"| format(projection[0]) }}, {{ "%.0f"| format(projection[1]) }}, {{ "%.0f"| format(projection[2]) }}, {{ "%.0f"| format(projection[3]) }}, {{ "%.0f"| format(projection[4]) }}, {{ "%.0f"| format(projection[5]) }}, {{ "%.0f"| format(projection[6]) }}]
                                                }, {
                                                    name: 'Revenue',
                                                    type: 'area',
                                    data: [{{ revenue[0] }}, {{ revenue[1] }}, {{ revenue[2] }}, {{ revenue[3] }}, {{ revenue[4] }}, {{ revenue[5] }}, {{ revenue[6] }}]
                                                }, {
                                                    name: 'Expenses',
                                                    type: 'line',
                                    data: [{{ expenses[0] }}, {{ expenses[1] }}, {{ expenses[2] }}, {{ expenses[3] }}, {{ expenses[4] }}, {{ expenses[5] }}, {{ expenses[6] }}]
                                                }],
                                    chart: {
                                        height: 350,
                                        type: 'line',
                                        stacked: false,
                                    },
                                    stroke: {
                                        width: [0, 2, 5],
                                        curve: 'smooth'
                                    },
                                    plotOptions: {
                                        bar: {
                                            columnWidth: '50%'
                                        }
                                    },

                                    fill: {
                                        opacity: [0.85, 0.25, 1],
                                        gradient: {
                                            inverseColors: false,
                                            shade: 'light',
                                            type: "vertical",
                                            opacityFrom: 0.85,
                                            opacityTo: 0.55,
                                            stops: [0, 100, 100, 100]
                                        }
                                    },
                                labels: ["{{ x_axis[0] }}", "{{ x_axis[1]}}", "{{ x_axis[2]}}", "{{ x_axis[3]}}", "{{ x_axis[4]}}", "{{ x_axis[5]}}", "{{ x_axis[6]}}"
                                    ],
                                    markers: {
                                        size: 0
                                    },
                                    xaxis: {
                                        type: 'datetime'
                                    },
                                    yaxis: {
                                        title: {
                                            text: 'USD',
                                        },
                                        min: 0
                                    },
                                    tooltip: {
                                        shared: true,
                                        intersect: false,
                                        y: {
                                            formatter: function (y) {
                                                if (typeof y !== "undefined") {
                                                    return y.toFixed(0) + " points";
                                                }
                                                return y;

                                            }
                                        }
                                    }
                                }).render();
                            });
                        </script>

                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">

                    <div class="filter">
                        <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                            <li class="dropdown-header text-start">
                                <h6>Filter</h6>
                            </li>

                            <li><a class="dropdown-item" href="#">Today</a></li>
                            <li><a class="dropdown-item" href="#">This Month</a></li>
                            <li><a class="dropdown-item" href="#">This Year</a></li>
                        </ul>
                    </div>

                    <div class="card-body">
                        <h5 class="card-title text-center">Revenue vs Expenses <span>/ past 6 months</span></h5>  <!--{{ "${:,.2f}".format(expenses[0]) }}-->
                        <!-- Line Chart -->
                        <div id="reportsChart"></div>

                        <script>
                                        document.addEventListener("DOMContentLoaded", () => {
                                            new ApexCharts(document.querySelector("#reportsChart"), {
                                                series: [{
                                                    name: 'Projection' ,
                                                    data: [{{ "%.0f"| format(projection[0]) }}, {{ "%.0f"| format(projection[1]) }}, {{ "%.0f"| format(projection[2]) }}, {{ "%.0f"| format(projection[3]) }}, {{ "%.0f"| format(projection[4]) }}, {{ "%.0f"| format(projection[5]) }}, {{ "%.0f"| format(projection[6]) }}]
                                                }, {
                                                    name: 'Revenue',
                                                data: [{{ revenue[0] }}, {{ revenue[1] }}, {{ revenue[2] }}, {{ revenue[3] }}, {{ revenue[4] }}, {{ revenue[5] }}, {{ revenue[6] }}]
                                                }, {
                                                name: 'Expenses',
                                                data: [{{ expenses[0] }}, {{ expenses[1] }}, {{ expenses[2] }}, {{ expenses[3] }}, {{ expenses[4] }}, {{ expenses[5] }}, {{ expenses[6] }}]
                                                }],
                                                chart: {
                                                    height: 350,
                                                    type: 'area',
                                                    toolbar: {
                                                        show: true
                                                    },
                                                },
                                                markers: {
                                                    size: 4
                                                },
                                                colors: ['#4154f1', '#2eca6a', '#ff771d'],
                                                fill: {
                                                    type: "gradient",
                                                    gradient: {
                                                        shadeIntensity: 1,
                                                        opacityFrom: 0.3,
                                                        opacityTo: 0.4,
                                                        stops: [0, 90, 100]
                                                    }
                                                },
                                                dataLabels: {
                                                    enabled: true,
                                                    offsetY: 05,
                                                    offsetX: 15
                                                },
                                                stroke: {
                                                    curve: 'smooth',
                                                    width: 2
                                                },
                                                xaxis: {
                                                    type: 'datetime',
                                            categories: ["{{ x_axis[0] }}", "{{ x_axis[1]}}", "{{ x_axis[2]}}", "{{ x_axis[3]}}", "{{ x_axis[4]}}", "{{ x_axis[5]}}", "{{ x_axis[6]}}"]
                                                },
                                                tooltip: {
                                                    x: {
                                                        format: 'yyyy/MM/dd'
                                                    },
                                                }
                                            }).render();
                                        });
                        </script>
                        <!-- End Line Chart -->

                    </div>

                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">Revenue by Sector <span> / past {{ num_days }} days</span></h5>

                        <!-- Polar Area Chart -->
                        <div id="polarAreaChart"></div>

                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
                                new ApexCharts(document.querySelector("#polarAreaChart"), {
                                    series: [{{ month_sales_by_sector[0] }}, {{month_sales_by_sector[1] }}, {{ month_sales_by_sector[2] }}, {{month_sales_by_sector[3] }}, {{month_sales_by_sector[4] }}],
                                    chart: {
                                        type: 'polarArea',
                                        height: 350,
                                        toolbar: {
                                            show: true
                                        }
                                    },
                                    stroke: {
                                        colors: ['#fff']
                                    },
                                    labels: ['{{ categories[0].name }}', '{{ categories[1].name }}', '{{ categories[2].name }}', '{{ categories[3].name }}', '{{ categories[4].name }}'],
                                    fill: {
                                        opacity: 0.8
                                    }

                                }).render();
                            });
                        </script>
                        <!-- End Polar Area Chart -->

                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">Revenue Distribution by Sector <span> / as of {{ now }}</span></h5>

                        <!-- Donut Chart -->
                        <div id="donutChart"></div>

                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
                                new ApexCharts(document.querySelector("#donutChart"), {
                                    series: [{{ categories[0].products | length }}, {{ categories[1].products | length }}, {{ categories[2].products | length }}, {{ categories[3].products | length }}, {{ categories[4].products | length }}],
                                    chart: {
                                        height: 350,
                                        type: 'donut',
                                        toolbar: {
                                            show: true
                                        }
                                    },
                                    labels: ['{{ categories[0].name }}', '{{ categories[1].name }}', '{{ categories[2].name }}', '{{ categories[3].name }}', '{{ categories[4].name }}'],
                                }).render();
                            });
                        </script>
                        <!-- End Donut Chart -->

                    </div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center"> Revenue by Sector <span> / (USD) / past {{ x_axis|length }} months</span></h5>

                        <!-- Radial Bar Chart -->
                        <div id="stackedbar"></div>

                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
                                new ApexCharts(document.querySelector("#stackedbar"), {
                                    series: [{
                                        name: '{{ categories[0].name }}',
                                        data: ["{{ monthly_sector_sales_data[0] }}", "{{ monthly_sector_sales_data2[0] }}", "{{ monthly_sector_sales_data3[0] }}", "{{ monthly_sector_sales_data4[0] }}", "{{ monthly_sector_sales_data5[0] }}", "{{ monthly_sector_sales_data6[0] }}", "{{ monthly_sector_sales_data7[0] }}"]
                                    }, {
                                        name: '{{ categories[1].name }}',
                                        data: ["{{ monthly_sector_sales_data[1] }}", "{{ monthly_sector_sales_data2[1] }}", "{{ monthly_sector_sales_data3[1] }}", "{{ monthly_sector_sales_data4[1] }}", "{{ monthly_sector_sales_data5[1] }}", "{{ monthly_sector_sales_data6[1] }}", "{{ monthly_sector_sales_data7[1] }}"]
                                    }, {
                                        name: '{{ categories[2].name }}',
                                        data: ["{{ monthly_sector_sales_data[2] }}", "{{ monthly_sector_sales_data2[2] }}", "{{ monthly_sector_sales_data3[2] }}", "{{ monthly_sector_sales_data4[2] }}", "{{ monthly_sector_sales_data5[2] }}", "{{ monthly_sector_sales_data6[2] }}", "{{ monthly_sector_sales_data7[2] }}"]
                                    }, {
                                        name: '{{ categories[3].name }}',
                                        data: ["{{ monthly_sector_sales_data[3] }}", "{{ monthly_sector_sales_data2[3] }}", "{{ monthly_sector_sales_data3[3] }}", "{{ monthly_sector_sales_data4[3] }}", "{{ monthly_sector_sales_data5[3] }}", "{{ monthly_sector_sales_data6[3] }}", "{{ monthly_sector_sales_data7[3] }}"]
                                    }, {
                                        name: '{{ categories[4].name }}',
                                        data: ["{{ monthly_sector_sales_data[4] }}", "{{ monthly_sector_sales_data2[4] }}", "{{ monthly_sector_sales_data3[4] }}", "{{ monthly_sector_sales_data4[4] }}", "{{ monthly_sector_sales_data5[4] }}", "{{ monthly_sector_sales_data6[4] }}", "{{ monthly_sector_sales_data7[4] }}"]
                                    }],
                                    chart: {
                                        type: 'bar',
                                        height: 350,
                                        stacked: true,
                                        stackType: '100%'
                                    },
                                    plotOptions: {
                                        bar: {
                                            horizontal: true,
                                        },
                                    },
                                    stroke: {
                                        width: 1,
                                        colors: ['#fff']
                                    },
                                    title: {
                                        text: 'Budly Co'
                                    },
                                    xaxis: {
                                        categories: ["{{ x_axis[0] }}", "{{ x_axis[1]}}", "{{ x_axis[2]}}", "{{ x_axis[3]}}", "{{ x_axis[4]}}", "{{ x_axis[5]}}", "{{ x_axis[6]}}"],
                                    },
                                    tooltip: {
                                        y: {
                                            formatter: function (val) {
                                                /* return val + "K"*/
                                                return val
                                            }
                                        }
                                    },
                                    fill: {
                                        opacity: 1

                                    },
                                    legend: {
                                        position: 'top',
                                        horizontalAlign: 'left',
                                        offsetX: 40
                                    }
                                }).render();
                            });
                        </script>
                        <!-- End Radial Bar Chart -->

                    </div>
                </div>
            </div>

            <!--OLD DOC HERE-->
            <!--<div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title text-center">Line Chart</h5>-->
            <!-- Line Chart -->
            <!--<div id="lineChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#lineChart"), {
                        series: [{
                            name: "Desktops",
                            data: [10, 41, 35, 51, 49, 62, 69, 91, 148]
                        }],
                        chart: {
                            height: 350,
                            type: 'line',
                            toolbar: {
                                show: true
                            },
                            zoom: {
                                enabled: false
                            }
                        },
                        dataLabels: {
                            enabled: false
                        },
                        stroke: {
                            curve: 'straight'
                        },
                        grid: {
                            row: {
                                colors: ['#f3f3f3', 'transparent'], // takes an array which will be repeated on columns
                                opacity: 0.5
                            },
                        },
                        xaxis: {
                            categories: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep'],
                        }
                    }).render();
                });
            </script>-->
            <!-- End Line Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="filter">
                        <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                            <li class="dropdown-header text-start">
                                <h6>Filter</h6>
                            </li>

                            {% for sector in categories %}
                            <li><a class="dropdown-item charts-filter" href="#">{{ sector.name }}</a></li>
                            {% endfor %}

                        </ul>
                    </div>
                    <div class="card-body">
                        <h5 class="card-title">Product Sales by Sector over Time</h5>-->
            <!-- Area Chart -->
            <!--<div id="areaChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    const series = {
                        "monthDataSeries1": {
                            "prices": [
                                8107.85,
                                8128.0,
                                8122.9,
                                8165.5,
                                8340.7,
                                8423.7,
                                8423.5,
                                8514.3,
                                8481.85,
                                8487.7,
                                8506.9,
                                8626.2,
                                8668.95,
                                8602.3,
                                8607.55,
                                8512.9,
                                8496.25,
                                8600.65,
                                8881.1,
                                9340.85
                            ],
                            "dates": [
                                "13 Nov 2017",
                                "14 Nov 2017",
                                "15 Nov 2017",
                                "16 Nov 2017",
                                "17 Nov 2017",
                                "20 Nov 2017",
                                "21 Nov 2017",
                                "22 Nov 2017",
                                "23 Nov 2017",
                                "24 Nov 2017",
                                "27 Nov 2017",
                                "28 Nov 2017",
                                "29 Nov 2017",
                                "30 Nov 2017",
                                "01 Dec 2017",
                                "04 Dec 2017",
                                "05 Dec 2017",
                                "06 Dec 2017",
                                "07 Dec 2017",
                                "08 Dec 2017"
                            ]
                        },
                        "monthDataSeries2": {
                            "prices": [
                                8423.7,
                                8423.5,
                                8514.3,
                                8481.85,
                                8487.7,
                                8506.9,
                                8626.2,
                                8668.95,
                                8602.3,
                                8607.55,
                                8512.9,
                                8496.25,
                                8600.65,
                                8881.1,
                                9040.85,
                                8340.7,
                                8165.5,
                                8122.9,
                                8107.85,
                                8128.0
                            ],
                            "dates": [
                                "13 Nov 2017",
                                "14 Nov 2017",
                                "15 Nov 2017",
                                "16 Nov 2017",
                                "17 Nov 2017",
                                "20 Nov 2017",
                                "21 Nov 2017",
                                "22 Nov 2017",
                                "23 Nov 2017",
                                "24 Nov 2017",
                                "27 Nov 2017",
                                "28 Nov 2017",
                                "29 Nov 2017",
                                "30 Nov 2017",
                                "01 Dec 2017",
                                "04 Dec 2017",
                                "05 Dec 2017",
                                "06 Dec 2017",
                                "07 Dec 2017",
                                "08 Dec 2017"
                            ]
                        },
                        "monthDataSeries3": {
                            "prices": [
                                7114.25,
                                7126.6,
                                7116.95,
                                7203.7,
                                7233.75,
                                7451.0,
                                7381.15,
                                7348.95,
                                7347.75,
                                7311.25,
                                7266.4,
                                7253.25,
                                7215.45,
                                7266.35,
                                7315.25,
                                7237.2,
                                7191.4,
                                7238.95,
                                7222.6,
                                7217.9,
                                7359.3,
                                7371.55,
                                7371.15,
                                7469.2,
                                7429.25,
                                7434.65,
                                7451.1,
                                7475.25,
                                7566.25,
                                7556.8,
                                7525.55,
                                7555.45,
                                7560.9,
                                7490.7,
                                7527.6,
                                7551.9,
                                7514.85,
                                7577.95,
                                7592.3,
                                7621.95,
                                7707.95,
                                7859.1,
                                7815.7,
                                7739.0,
                                7778.7,
                                7839.45,
                                7756.45,
                                7669.2,
                                7580.45,
                                7452.85,
                                7617.25,
                                7701.6,
                                7606.8,
                                7620.05,
                                7513.85,
                                7498.45,
                                7575.45,
                                7601.95,
                                7589.1,
                                7525.85,
                                7569.5,
                                7702.5,
                                7812.7,
                                7803.75,
                                7816.3,
                                7851.15,
                                7912.2,
                                7972.8,
                                8145.0,
                                8161.1,
                                8121.05,
                                8071.25,
                                8088.2,
                                8154.45,
                                8148.3,
                                8122.05,
                                8132.65,
                                8074.55,
                                7952.8,
                                7885.55,
                                7733.9,
                                7897.15,
                                7973.15,
                                7888.5,
                                7842.8,
                                7838.4,
                                7909.85,
                                7892.75,
                                7897.75,
                                7820.05,
                                7904.4,
                                7872.2,
                                7847.5,
                                7849.55,
                                7789.6,
                                7736.35,
                                7819.4,
                                7875.35,
                                7871.8,
                                8076.5,
                                8114.8,
                                8193.55,
                                8217.1,
                                8235.05,
                                8215.3,
                                8216.4,
                                8301.55,
                                8235.25,
                                8229.75,
                                8201.95,
                                8164.95,
                                8107.85,
                                8128.0,
                                8122.9,
                                8165.5,
                                8340.7,
                                8423.7,
                                8423.5,
                                8514.3,
                                8481.85,
                                8487.7,
                                8506.9,
                                8626.2
                            ],
                            "dates": [
                                "02 Jun 2017",
                                "05 Jun 2017",
                                "06 Jun 2017",
                                "07 Jun 2017",
                                "08 Jun 2017",
                                "09 Jun 2017",
                                "12 Jun 2017",
                                "13 Jun 2017",
                                "14 Jun 2017",
                                "15 Jun 2017",
                                "16 Jun 2017",
                                "19 Jun 2017",
                                "20 Jun 2017",
                                "21 Jun 2017",
                                "22 Jun 2017",
                                "23 Jun 2017",
                                "27 Jun 2017",
                                "28 Jun 2017",
                                "29 Jun 2017",
                                "30 Jun 2017",
                                "03 Jul 2017",
                                "04 Jul 2017",
                                "05 Jul 2017",
                                "06 Jul 2017",
                                "07 Jul 2017",
                                "10 Jul 2017",
                                "11 Jul 2017",
                                "12 Jul 2017",
                                "13 Jul 2017",
                                "14 Jul 2017",
                                "17 Jul 2017",
                                "18 Jul 2017",
                                "19 Jul 2017",
                                "20 Jul 2017",
                                "21 Jul 2017",
                                "24 Jul 2017",
                                "25 Jul 2017",
                                "26 Jul 2017",
                                "27 Jul 2017",
                                "28 Jul 2017",
                                "31 Jul 2017",
                                "01 Aug 2017",
                                "02 Aug 2017",
                                "03 Aug 2017",
                                "04 Aug 2017",
                                "07 Aug 2017",
                                "08 Aug 2017",
                                "09 Aug 2017",
                                "10 Aug 2017",
                                "11 Aug 2017",
                                "14 Aug 2017",
                                "16 Aug 2017",
                                "17 Aug 2017",
                                "18 Aug 2017",
                                "21 Aug 2017",
                                "22 Aug 2017",
                                "23 Aug 2017",
                                "24 Aug 2017",
                                "28 Aug 2017",
                                "29 Aug 2017",
                                "30 Aug 2017",
                                "31 Aug 2017",
                                "01 Sep 2017",
                                "04 Sep 2017",
                                "05 Sep 2017",
                                "06 Sep 2017",
                                "07 Sep 2017",
                                "08 Sep 2017",
                                "11 Sep 2017",
                                "12 Sep 2017",
                                "13 Sep 2017",
                                "14 Sep 2017",
                                "15 Sep 2017",
                                "18 Sep 2017",
                                "19 Sep 2017",
                                "20 Sep 2017",
                                "21 Sep 2017",
                                "22 Sep 2017",
                                "25 Sep 2017",
                                "26 Sep 2017",
                                "27 Sep 2017",
                                "28 Sep 2017",
                                "29 Sep 2017",
                                "03 Oct 2017",
                                "04 Oct 2017",
                                "05 Oct 2017",
                                "06 Oct 2017",
                                "09 Oct 2017",
                                "10 Oct 2017",
                                "11 Oct 2017",
                                "12 Oct 2017",
                                "13 Oct 2017",
                                "16 Oct 2017",
                                "17 Oct 2017",
                                "18 Oct 2017",
                                "19 Oct 2017",
                                "23 Oct 2017",
                                "24 Oct 2017",
                                "25 Oct 2017",
                                "26 Oct 2017",
                                "27 Oct 2017",
                                "30 Oct 2017",
                                "31 Oct 2017",
                                "01 Nov 2017",
                                "02 Nov 2017",
                                "03 Nov 2017",
                                "06 Nov 2017",
                                "07 Nov 2017",
                                "08 Nov 2017",
                                "09 Nov 2017",
                                "10 Nov 2017",
                                "13 Nov 2017",
                                "14 Nov 2017",
                                "15 Nov 2017",
                                "16 Nov 2017",
                                "17 Nov 2017",
                                "20 Nov 2017",
                                "21 Nov 2017",
                                "22 Nov 2017",
                                "23 Nov 2017",
                                "24 Nov 2017",
                                "27 Nov 2017",
                                "28 Nov 2017"
                            ]
                        }
                    }
                    new ApexCharts(document.querySelector("#areaChart"), {
                        series: [{
                            name: "STOCK ABC",
                            data: series.monthDataSeries1.prices
                        }],
                        series: [{
                            name: "STOCK EFG",
                            data: series.monthDataSeries2.prices
                        }],
                        chart: {
                            type: 'area',
                            height: 350,
                            toolbar: {
                                show: true
                            },
                            zoom: {
                                enabled: false
                            }
                        },
                        dataLabels: {
                            enabled: false
                        },
                        stroke: {
                            curve: 'straight'
                        },
                        subtitle: {
                            text: 'Price Movements',
                            align: 'left'
                        },
                        labels: series.monthDataSeries1.dates,
                        xaxis: {
                            type: 'datetime',
                        },
                        yaxis: {
                            opposite: true
                        },
                        legend: {
                            horizontalAlign: 'left'
                        }
                    }).render();
                });
            </script>-->
            <!-- End Area Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Income Statement <span>/ past 6 months</span></h5>-->
            <!-- Column Chart -->
            <!--<div id="columnChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#columnChart"), {
                        series: [{
                            name: 'Net Profit',
                            data: [{{ revenue[0] - expenses[0] }}, {{ revenue[1] - expenses[1] }}, {{ revenue[2] - expenses[2] }}, {{ revenue[3] - expenses[3] }}, {{ revenue[4] - expenses[4] }}, {{ revenue[5] - expenses[5] }}, {{ revenue[6] - expenses[6] }}]
                        }, {
                            name: 'Revenue',
                                data: [{{ revenue[0] }}, {{ revenue[1] }}, {{ revenue[2] }}, {{ revenue[3] }}, {{ revenue[4] }}, {{ revenue[5] }}, {{ revenue[6] }}]
                        }, {
                            name: 'Expenses',
                            data: [{{ expenses[0] }}, {{ expenses[1] }}, {{ expenses[2] }}, {{ expenses[3] }}, {{ expenses[4] }}, {{ expenses[5] }}, {{ expenses[6] }}]
                        }],
                        chart: {
                            type: 'bar',
                            height: 350,
                            toolbar: {
                                show: true
                            },
                        },
                        plotOptions: {
                            bar: {
                                horizontal: false,
                                columnWidth: '55%',
                                endingShape: 'rounded'
                            },
                        },
                        dataLabels: {
                            enabled: false
                        },
                        stroke: {
                            show: true,
                            width: 2,
                            colors: ['transparent']
                        },
                        xaxis: {

                            categories: ["{{ x_axis[0] }}", "{{ x_axis[1]}}", "{{ x_axis[2]}}", "{{ x_axis[3]}}", "{{ x_axis[4]}}", "{{ x_axis[5]}}", "{{ x_axis[6]}}"],
                        },
                        yaxis: {
                            title: {
                                text: '$ (thousands)'
                            }
                        },
                        fill: {
                            opacity: 1
                        },
                        tooltip: {
                            y: {
                                formatter: function (val) {
                                    return "$ " + val + " thousands"
                                }
                            }
                        }
                    }).render();
                });
            </script>-->
            <!-- End Column Chart -->
            <!--</div>
                </div>
            </div>-->
            <!-- Reports -->
            <!--<div class="col-lg-6">
                <div class="card">

                    <div class="filter">
                        <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                        <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                            <li class="dropdown-header text-start">
                                <h6>Filter</h6>
                            </li>

                            <li><a class="dropdown-item" href="#">Today</a></li>
                            <li><a class="dropdown-item" href="#">This Month</a></li>
                            <li><a class="dropdown-item" href="#">This Year</a></li>
                        </ul>
                    </div>

                    <div class="card-body">
                        <h5 class="card-title">Revenue vs Expenses <span>/ past 6 months</span></h5>-->
            <!-- Line Chart -->
            <!--<div id="reportsChart"></div>

            <script>
                            document.addEventListener("DOMContentLoaded", () => {
                                new ApexCharts(document.querySelector("#reportsChart"), {
                                    series: [{
                                        name: 'Projection' ,
                                        data: [{{ "%.0f"| format(projection[0]) }}, {{ "%.0f"| format(projection[1]) }}, {{ "%.0f"| format(projection[2]) }}, {{ "%.0f"| format(projection[3]) }}, {{ "%.0f"| format(projection[4]) }}, {{ "%.0f"| format(projection[5]) }}, {{ "%.0f"| format(projection[6]) }}]
                                    }, {
                                        name: 'Revenue',
                                    data: [{{ revenue[0] }}, {{ revenue[1] }}, {{ revenue[2] }}, {{ revenue[3] }}, {{ revenue[4] }}, {{ revenue[5] }}, {{ revenue[6] }}]
                                    }, {
                                    name: 'Expenses',
                                    data: [{{ expenses[0] }}, {{ expenses[1] }}, {{ expenses[2] }}, {{ expenses[3] }}, {{ expenses[4] }}, {{ expenses[5] }}, {{ expenses[6] }}]
                                    }],
                                    chart: {
                                        height: 350,
                                        type: 'area',
                                        toolbar: {
                                            show: true
                                        },
                                    },
                                    markers: {
                                        size: 4
                                    },
                                    colors: ['#4154f1', '#2eca6a', '#ff771d'],
                                    fill: {
                                        type: "gradient",
                                        gradient: {
                                            shadeIntensity: 1,
                                            opacityFrom: 0.3,
                                            opacityTo: 0.4,
                                            stops: [0, 90, 100]
                                        }
                                    },
                                    dataLabels: {
                                        enabled: true,
                                        offsetY: 05,
                                        offsetX: 15
                                    },
                                    stroke: {
                                        curve: 'smooth',
                                        width: 2
                                    },
                                    xaxis: {
                                        type: 'datetime',
                                categories: ["{{ x_axis[0] }}", "{{ x_axis[1]}}", "{{ x_axis[2]}}", "{{ x_axis[3]}}", "{{ x_axis[4]}}", "{{ x_axis[5]}}", "{{ x_axis[6]}}"]
                                    },
                                    tooltip: {
                                        x: {
                                            format: 'yyyy/MM/dd'
                                        },
                                    }
                                }).render();
                            });
            </script>-->
            <!-- End Line Chart -->
            <!--</div>

                </div>
            </div>-->
            <!-- End Reports -->
            <!--<div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Revenue Top Ten by Product (USD) <span> / all time </span> </h5>-->
            <!-- Bar Chart -->
            <!--<div id="barChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#barChart"), {
                        series: [{
                            name: 'Revenue Generated (USD)',
                            data: ['{{ (popular_products[4].price * popular_products[4].baskets | length ) }}', '{{ (popular_products[0].price * popular_products[0].baskets | length ) }}', '{{ (popular_products[47].price * popular_products[47].baskets | length ) }}', '{{ (popular_products[21].price * popular_products[21].baskets | length ) }}', '{{ (popular_products[50].price * popular_products[50].baskets | length ) }}', '{{ (popular_products[26].price * popular_products[26].baskets | length ) }}', '{{ (popular_products[9].price * popular_products[9].baskets | length ) }}', '{{ (popular_products[83].price * popular_products[83].baskets | length ) }}', '{{ (popular_products[56].price * popular_products[56].baskets | length ) }}', '{{ (popular_products[80].price * popular_products[80].baskets | length ) }}']
                        }],
                        chart: {
                            type: 'bar',
                            height: 350,
                            toolbar: {
                                show: true
                            },
                        },
                        plotOptions: {
                            bar: {
                                borderRadius: 4,
                                horizontal: true,
                            }
                        },
                        dataLabels: {
                            enabled: false
                        },
                        xaxis: {
                            categories: ['{{ popular_products[4].name }}', '{{ popular_products[0].name }}', '{{ popular_products[47].name }}', '{{ popular_products[21].name }}', '{{ popular_products[50].name }}', '{{ popular_products[26].name }}', '{{ popular_products[9].name }}',
                                '{{ popular_products[83].name }}', '{{ popular_products[56].name }}', '{{ popular_products[80].name }}'
                            ],
                        }
                    }).render();
                });
            </script>-->
            <!-- End Bar Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Product Sales Percentage by Sector <span> / last {{ num_days }} days</span></h5>-->
            <!-- Pie Chart -->
            <!--<div id="pieChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#pieChart"), {
                        series: [{{ sector_sales[0]}}, {{ sector_sales[1]}}, {{ sector_sales[2]}}, {{ sector_sales[3]}}, {{ sector_sales[4]}}],
                        chart: {
                            height: 350,
                            type: 'pie',
                            toolbar: {
                                show: true
                            }
                        },
                    labels: ['{{ categories[0].name }}', '{{ categories[1].name }}', '{{ categories[2].name }}', '{{ categories[3].name }}', '{{ categories[4].name }}']
                    }).render();
                });
            </script>-->
            <!-- End Pie Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Product Distribution by Sector <span> / as of {{ now }}</span></h5>-->
            <!-- Donut Chart -->
            <!--<div id="donutChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#donutChart"), {
                        series: [{{ categories[0].products | length }}, {{ categories[1].products | length }}, {{ categories[2].products | length }}, {{ categories[3].products | length }}, {{ categories[4].products | length }}],
                        chart: {
                            height: 350,
                            type: 'donut',
                            toolbar: {
                                show: true
                            }
                        },
                        labels: ['{{ categories[0].name }}', '{{ categories[1].name }}', '{{ categories[2].name }}', '{{ categories[3].name }}', '{{ categories[4].name }}'],
                    }).render();
                });
            </script>-->
            <!-- End Donut Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Radar Chart</h5>-->
            <!-- Radar Chart -->
            <!--<div id="radarChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#radarChart"), {
                        series: [{
                            name: 'Series 1',
                            data: [80, 50, 30, 40, 100, 20],
                        }],
                        chart: {
                            height: 350,
                            type: 'radar',
                            toolbar: {
                                show: true
                            }
                        },
                        xaxis: {
                            categories: ['January', 'February', 'March', 'April', 'May', 'June']
                        }
                    }).render();
                });
            </script>-->
            <!-- End Radar Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Product Sales by Sector <span> / past {{ num_days }} days</span></h5>-->
            <!-- Polar Area Chart -->
            <!--<div id="polarAreaChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#polarAreaChart"), {
                        series: [{{ month_sales_by_sector[0] }}, {{month_sales_by_sector[1] }}, {{ month_sales_by_sector[2] }}, {{month_sales_by_sector[3] }}, {{month_sales_by_sector[4] }}],
                        chart: {
                            type: 'polarArea',
                            height: 350,
                            toolbar: {
                                show: true
                            }
                        },
                        stroke: {
                            colors: ['#fff']
                        },
                        labels: ['{{ categories[0].name }}', '{{ categories[1].name }}', '{{ categories[2].name }}', '{{ categories[3].name }}', '{{ categories[4].name }}'],
                        fill: {
                            opacity: 0.8
                        }

                    }).render();
                });
            </script>-->
            <!-- End Polar Area Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Percent to Sales Goal by Sector <span> / past {{ num_days }} days</span></h5>-->
            <!-- Radial Bar Chart -->
            <!--<div id="radialBarChart"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#radialBarChart"), {
                        series: [{{ month_sales_by_sector[0]/10 }}, {{ month_sales_by_sector[1]/10 }}, {{ month_sales_by_sector[2]/10 }}, {{ month_sales_by_sector[3]/10 }}, {{ month_sales_by_sector[4]/10 }}],
                        chart: {
                            height: 350,
                            type: 'radialBar',
                            toolbar: {
                                show: true
                            }
                        },
                        plotOptions: {
                            radialBar: {
                                dataLabels: {
                                    name: {
                                        fontSize: '22px',
                                    },
                                    value: {
                                        fontSize: '16px',
                                    },
                                    total: {
                                        show: true,
                                        label: 'Total',
                                        //formatter: function (w) {
                                        //    // By default this function returns the average of all series. The below is just an example to show the use of custom formatter function
                                        //    return 249
                                        //}
                                    }
                                }
                            }
                        },
                    labels: ['{{ categories[0].name }}', '{{ categories[1].name }}', '{{ categories[2].name }}', '{{ categories[3].name }}', '{{ categories[4].name }}'],
                    }).render();
                });
            </script>-->
            <!-- End Radial Bar Chart -->
            <!--</div>
                </div>
            </div>

            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Projection VS Actual <span> / past 6 months</span> </h5>-->
            <!-- Line/Bar Chart -->
            <!--<div id="aliciachart"></div>
                        <script>
                            document.addEventListener("DOMContentLoaded", () => {
                                new ApexCharts(document.querySelector("#aliciachart"), {
                                    series: [{
                                        name: 'Projection',
                                        type: 'column',
                                        data: [{{ "%.0f"| format(projection[0]) }}, {{ "%.0f"| format(projection[1]) }}, {{ "%.0f"| format(projection[2]) }}, {{ "%.0f"| format(projection[3]) }}, {{ "%.0f"| format(projection[4]) }}, {{ "%.0f"| format(projection[5]) }}, {{ "%.0f"| format(projection[6]) }}]
                                                }, {
                                                    name: 'Revenue',
                                                    type: 'area',
                                    data: [{{ revenue[0] }}, {{ revenue[1] }}, {{ revenue[2] }}, {{ revenue[3] }}, {{ revenue[4] }}, {{ revenue[5] }}, {{ revenue[6] }}]
                                                }, {
                                                    name: 'Expenses',
                                                    type: 'line',
                                    data: [{{ expenses[0] }}, {{ expenses[1] }}, {{ expenses[2] }}, {{ expenses[3] }}, {{ expenses[4] }}, {{ expenses[5] }}, {{ expenses[6] }}]
                                                }],
                                    chart: {
                                        height: 350,
                                        type: 'line',
                                        stacked: false,
                                    },
                                    stroke: {
                                        width: [0, 2, 5],
                                        curve: 'smooth'
                                    },
                                    plotOptions: {
                                        bar: {
                                            columnWidth: '50%'
                                        }
                                    },

                                    fill: {
                                        opacity: [0.85, 0.25, 1],
                                        gradient: {
                                            inverseColors: false,
                                            shade: 'light',
                                            type: "vertical",
                                            opacityFrom: 0.85,
                                            opacityTo: 0.55,
                                            stops: [0, 100, 100, 100]
                                        }
                                    },
                                labels: ["{{ x_axis[0] }}", "{{ x_axis[1]}}", "{{ x_axis[2]}}", "{{ x_axis[3]}}", "{{ x_axis[4]}}", "{{ x_axis[5]}}", "{{ x_axis[6]}}"
                                    ],
                                    markers: {
                                        size: 0
                                    },
                                    xaxis: {
                                        type: 'datetime'
                                    },
                                    yaxis: {
                                        title: {
                                            text: 'USD',
                                        },
                                        min: 0
                                    },
                                    tooltip: {
                                        shared: true,
                                        intersect: false,
                                        y: {
                                            formatter: function (y) {
                                                if (typeof y !== "undefined") {
                                                    return y.toFixed(0) + " points";
                                                }
                                                return y;

                                            }
                                        }
                                    }
                                }).render();
                            });
                        </script>

                    </div>
                </div>
            </div>



            <div class="col-lg-6">
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title">Monthly Sales Percentage by Sector <span> / past {{ x_axis|length }} months</span></h5>-->
            <!-- Radial Bar Chart -->
            <!--<div id="stackedbar"></div>

            <script>
                document.addEventListener("DOMContentLoaded", () => {
                    new ApexCharts(document.querySelector("#stackedbar"), {
                        series: [{
                            name: '{{ categories[0].name }}',
                            data: ["{{ monthly_sector_sales_data[0] }}", "{{ monthly_sector_sales_data2[0] }}", "{{ monthly_sector_sales_data3[0] }}", "{{ monthly_sector_sales_data4[0] }}", "{{ monthly_sector_sales_data5[0] }}", "{{ monthly_sector_sales_data6[0] }}", "{{ monthly_sector_sales_data7[0] }}"]
                        }, {
                            name: '{{ categories[1].name }}',
                            data: ["{{ monthly_sector_sales_data[1] }}", "{{ monthly_sector_sales_data2[1] }}", "{{ monthly_sector_sales_data3[1] }}", "{{ monthly_sector_sales_data4[1] }}", "{{ monthly_sector_sales_data5[1] }}", "{{ monthly_sector_sales_data6[1] }}", "{{ monthly_sector_sales_data7[1] }}"]
                        }, {
                            name: '{{ categories[2].name }}',
                            data: ["{{ monthly_sector_sales_data[2] }}", "{{ monthly_sector_sales_data2[2] }}", "{{ monthly_sector_sales_data3[2] }}", "{{ monthly_sector_sales_data4[2] }}", "{{ monthly_sector_sales_data5[2] }}", "{{ monthly_sector_sales_data6[2] }}", "{{ monthly_sector_sales_data7[2] }}"]
                        }, {
                            name: '{{ categories[3].name }}',
                            data: ["{{ monthly_sector_sales_data[3] }}", "{{ monthly_sector_sales_data2[3] }}", "{{ monthly_sector_sales_data3[3] }}", "{{ monthly_sector_sales_data4[3] }}", "{{ monthly_sector_sales_data5[3] }}", "{{ monthly_sector_sales_data6[3] }}", "{{ monthly_sector_sales_data7[3] }}"]
                        }, {
                            name: '{{ categories[4].name }}',
                            data: ["{{ monthly_sector_sales_data[4] }}", "{{ monthly_sector_sales_data2[4] }}", "{{ monthly_sector_sales_data3[4] }}", "{{ monthly_sector_sales_data4[4] }}", "{{ monthly_sector_sales_data5[4] }}", "{{ monthly_sector_sales_data6[4] }}", "{{ monthly_sector_sales_data7[4] }}"]
                        }],
                        chart: {
                            type: 'bar',
                            height: 350,
                            stacked: true,
                            stackType: '100%'
                        },
                        plotOptions: {
                            bar: {
                                horizontal: true,
                            },
                        },
                        stroke: {
                            width: 1,
                            colors: ['#fff']
                        },
                        title: {
                            text: 'Budly Co'
                        },
                        xaxis: {
                            categories: ["{{ x_axis[0] }}", "{{ x_axis[1]}}", "{{ x_axis[2]}}", "{{ x_axis[3]}}", "{{ x_axis[4]}}", "{{ x_axis[5]}}", "{{ x_axis[6]}}"],
                        },
                        tooltip: {
                            y: {
                                formatter: function (val) {
                                    return val + "K"
                                }
                            }
                        },
                        fill: {
                            opacity: 1

                        },
                        legend: {
                            position: 'top',
                            horizontalAlign: 'left',
                            offsetX: 40
                        }
                    }).render();
                });
            </script>-->
            <!-- End Radial Bar Chart -->
            <!--</div>
                </div>
            </div>-->

        </div>
    </section>

</main><!-- End #main -->
{% endblock %}

<!-- DivTable.com -->
{% block scripts %}
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.slim.min.js"></script>

{% endblock %}